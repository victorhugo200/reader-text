function disableElement(e){e.setAttribute("disabled",!0)}function enableElement(e){e.removeAttribute("disabled")}function createSpeak(e){fala=new SpeechSynthesisUtterance(e),fala.volume=1,fala.voice=speechSynthesis.getVoices().find(({lang:e})=>"pt-BR"===e),fala.lang="pt-BR",fala.onend=(()=>{disableElement(btnPause),enableElement(btn)}),fala.onpause=(()=>{changeButtonLabel(btnPause,"Continuar","Continuar leitura")}),fala.onerror=(e=>{console.log(e)})}function changeButtonLabel(e,t,n){e.textContent=t,e.setAttribute("aria-label",n)}const text=document.getElementById("text"),btn=document.querySelector(".read"),btnPause=document.querySelector(".pause"),{speechSynthesis:speechSynthesis}=window;let fala=null;text.addEventListener("blur",()=>{const{value:e}=text;e?(enableElement(btn),speechSynthesis.speaking&&(speechSynthesis.cancel(),changeButtonLabel(btnPause,"Parar","Parar leitura")),disableElement(btnPause),createSpeak(e)):disableElement(btn)}),btn.addEventListener("click",()=>{fala&&(speechSynthesis.speak(fala),disableElement(btn),enableElement(btnPause))}),btnPause.addEventListener("click",()=>{speechSynthesis.paused?(speechSynthesis.resume(),changeButtonLabel(btnPause,"Parar","Parar leitura")):speechSynthesis.pause()});